{% extends 'MSSCoreBundle:Home:base.html.twig' %}

{% block stylesheet %}
<style type="text/css">
    body {
        margin-top: 50px; /* 50px is the height of the navbar - change this if the navbarn height changes */
    }

    .thumb {
        margin-bottom: 30px;
    }

    footer {
        margin: 50px 0;
    }
    
    .portfolio-item {
	margin-bottom: 25px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header"><small>IMAGES</small>
            </h1>
        </div>
    </div>
    
    {% set len = images|length%}
    {% if len < 4 %}
       {% set rows = 1 %}
    {% endif %}
    {% if len > 4 %}
        {% set rows = (len/4)|round %}
    {% endif %}
    {% for i in range(0, rows-1) %}
    <div class="row">
        {% for j in range(0,3) %}
        {% set index = i*4+j %}
        {% if index < len%}
        {% set item = images[index] %}
        <div class="col-sm-3">
                <a class="thumbnail" href="{{ path('mss_core_cate_specific', {'type': 1, 'mediaid': item.imageid, 'keywords':item.keywords}) }}">
                    <img style="width:280px; height:150px;" class="img-responsive" src="{{ asset('uploads/' ~ item.uploadpath) }}">
                </a>
            <div>
                <h4>
                    <a style="width:120px" class="btn btn-default" href="{{url('mss_core_user_channels', {'username': item.uploadname})}}">{{item.uploadname}}</a> 
                    <br>
                    <a style="width:120px" class="btn btn-default"  href="">Downloads: {{item.downloadtimes}}</a>
                    <a style="width:120px" class="btn btn-default" >Views: {{item.viewtimes}}</a>
                    <a style="width: 245px" class="btn btn-default">Upload date:{{item.updatetime.format('Y-m-d')}}</a>
                
                </h4>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
    {% endfor %}
    
</div>

<!-- /.container -->

{% endblock %}

{% block fooder %}
{% endblock %}